name: Integration Tests | DataStore - All
on:
  workflow_dispatch:
  workflow_call:

permissions:
    id-token: write
    contents: read

concurrency:
  group: ${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

jobs:
  datastore-base-test:
    uses: ./.github/workflows/integ_test_datastore_base.yml
    secrets: inherit

  datastore-auth-iam-test:
    uses: ./.github/workflows/integ_test_datastore_auth_iam.yml
    secrets: inherit

  datastore-cpk-test:
    uses: ./.github/workflows/integ_test_datastore_cpk.yml
    secrets: inherit

  datastore-lazy-load-test:
    uses: ./.github/workflows/integ_test_datastore_lazy_load.yml
    secrets: inherit

  datastore-multi-auth-test:
    uses: ./.github/workflows/integ_test_datastore_multi_auth.yml
    secrets: inherit

  datastore-transformer-v2-test:
    uses: ./.github/workflows/integ_test_datastore_v2.yml
    secrets: inherit

  datastore-auth-cognito-test:
    uses: ./.github/workflows/integ_test_datastore_auth_cognito.yml
    secrets: inherit
